<launch>
    <arg name="launch_rviz" default="true" />
    <arg name="rviz_config" default="$(find fsd_visualization)/rviz/lidar_cluster.rviz" />
    <arg name="ns" default="perception/lidar_cluster" />
    <arg name="input_topic" default="/velodyne_points" />

    <group ns="$(arg ns)">
        <node pkg="nodelet" type="nodelet" name="lidar_cluster_nodelet_manager" args="manager"
            output="screen" />
        <node pkg="nodelet" type="nodelet" name="lidar_cluster_node"
            args="load nodelet_lidar/Lidar_Cluster_Nodelet lidar_cluster_nodelet_manager"
            output="screen">
            <rosparam command="load" file="$(find perception_ros)/config/lidar_cluster_example.yaml" />
            <param name="topics/input" value="$(arg input_topic)" />
        </node>
    </group>

    <node if="$(arg launch_rviz)" pkg="rviz" type="rviz" name="rviz"
        args="-d $(arg rviz_config)" />

</launch>
