<!--
  FSD Perception Subsystem
  感知子系统：点云处理、锥桶检测
-->
<launch>
    <arg name="input_topic" default="/velodyne_points"/>
    <arg name="lidar_cluster_ns" default="perception/lidar_cluster"/>
    <arg name="launch_rviz" default="false"/>
    <arg name="mode" default="track" doc="赛道模式: accel | skidpad | track"/>
    <arg name="mission_config" default="" doc="任务级参数覆盖文件（mission overlay）"/>
    <arg name="vehicle" default="A13" doc="车辆型谱ID"/>
    <arg name="vehicle_config" default="$(find fsd_launch)/config/vehicles/$(arg vehicle)/perception.yaml"/>
    <arg name="vehicle_local_config" default="" doc="本地覆盖参数文件（*.local.yaml）"/>

    <!-- LiDAR Cluster -->
    <include file="$(find perception_ros)/launch/lidar_cluster.launch">
        <arg name="ns" value="$(arg lidar_cluster_ns)"/>
        <arg name="input_topic" value="$(arg input_topic)"/>
        <arg name="launch_rviz" value="$(arg launch_rviz)"/>
        <arg name="mode" value="$(arg mode)"/>
        <arg name="mission_config" value="$(arg mission_config)"/>
        <arg name="extra_config" value="$(arg vehicle_config)"/>
        <arg name="extra_local_config" value="$(arg vehicle_local_config)"/>
    </include>
</launch>
